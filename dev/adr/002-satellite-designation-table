---
status: accepted
date: 2025-07-22
---

# Split satellite table and separate satellite designation history

## Context and Problem Statement

The original satellite table contained over 100K objects, however, these were not all unique. A new row was created for each satellite name/NORAD ID
combination, and the most current version was noted with a flag. However it's not easy to get the designation history for a satellite, and queries
using archival data can return outdated names of satellites that, while are correct as of the date in the query, are no longer current and need extra
steps to match up with the current name.

Additionally, other metadata from Space-Track can be updated over time, resulting in additional mismatches between different satellite instances.
There are observed cases where the rcs_size and object_id (COSPAR ID) are updated over time, correcting issues in preliminary data. There are also cases where it appears that the object name is reverted back to a temporary designation for unknown reasons.

The original database schema wasn't great at tracking actual satellite entities, so a schema change is needed regardless of any performance improvements
it might add.


## Considered Options

* Attempting to address related designations with the orginal table schema
* Split the satellite table into two tables, one for the satellite itself with metadata and one for the designation history (names, NORAD IDs, and the date ranges each designation is valid for).

## Decision Outcome

Chosen option: Split the satellite table into two tables, one for the satellite itself with metadata and one for the designation history (names, NORAD IDs,
and the date ranges each designation is valid for).


### Consequences

* ✅ Creates a more robust data set that is easier to query and maintain.
* ❌ Requires a complicated migration process to update the existing data - not only do individual satellites
need to be separated from their designation history, but the correct metadate for each object needs to be determined, and all TLEs need to be updated to reference the new satellite ID.


### Confirmation

Specific queries will be benchmarked with specific results to confirm that the new schema doesn't
return any incorrect results. Should technically be the same as before, just not using the same query logic.

## Pros and Cons of other options

### Attempting to address related designations with the orginal table schema

* ✅ Would require fewer code changes since the model would be mostly the same. Also the migration would be (far) less complex.
* ❌ Would require a more complex query to get the correct designation for a satellite at a given date
* ❌ Still has overlap in satellite info


## More Information
This needs additional test queries to confirm that the new schema doesn't return any incorrect results. There will also probably some manual cleanup depending on how the migration goes.
